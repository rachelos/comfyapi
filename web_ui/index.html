<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ComfyUI API ÈõÜÊàêÁ§∫‰æã</title>
    <style>
        :root {
            --primary-color: #6366f1;
            --primary-hover: #4f46e5;
            --secondary-color: #f9fafb;
            --text-color: #1f2937;
            --border-color: #e5e7eb;
            --success-color: #10b981;
            --error-color: #ef4444;
            --border-radius: 8px;
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Segoe UI', system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
            max-width: 900px;
            margin: 0 auto;
            padding: 30px 20px;
            line-height: 1.6;
            color: var(--text-color);
            background-color: #f8fafc;
        }
        
        h1, h2 {
            color: var(--text-color);
            margin-bottom: 1rem;
            font-weight: 600;
        }
        
        h1 {
            font-size: 2.25rem;
            text-align: center;
            margin-bottom: 1.5rem;
            background: linear-gradient(135deg, var(--primary-color), #8b5cf6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        h2 {
            font-size: 1.5rem;
            border-bottom: 2px solid var(--primary-color);
            padding-bottom: 0.5rem;
            display: inline-block;
        }
        
        pre {
            background-color: #f1f5f9;
            padding: 15px;
            border-radius: var(--border-radius);
            overflow-x: auto;
            border-left: 4px solid var(--primary-color);
            margin: 1rem 0;
        }
        
        code {
            font-family: 'Cascadia Code', Consolas, Monaco, 'Andale Mono', monospace;
        }
        
        .example-container {
            background-color: white;
            border-radius: var(--border-radius);
            padding: 30px;
            margin: 30px 0;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
        }
        
        input[type="text"], input[type="number"], select {
            width: 100%;
            padding: 10px 12px;
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius);
            font-size: 1rem;
            transition: border-color 0.2s, box-shadow 0.2s;
            margin-top: 5px;
            margin-bottom: 15px;
        }
        
        input[type="text"]:focus, input[type="number"]:focus, select:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.2);
        }
        
        label {
            font-weight: 500;
            display: block;
            margin-bottom: 5px;
            color: #4b5563;
        }
        
        button {
            background-color: var(--primary-color);
            color: white;
            padding: 12px 20px;
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            margin: 5px 10px 5px 0;
            font-weight: 500;
            font-size: 1rem;
            transition: background-color 0.2s, transform 0.1s;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        button:hover {
            background-color: var(--primary-hover);
            transform: translateY(-1px);
        }
        
        button:active {
            transform: translateY(1px);
        }
        
        button:disabled {
            background-color: #d1d5db;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        #cancel-btn {
            background-color: #ef4444;
        }
        
        #cancel-btn:hover {
            background-color: #dc2626;
        }
        
        #test-btn {
            background-color: #f59e0b;
        }
        
        #test-btn:hover {
            background-color: #d97706;
        }
        
        .progress-container {
            width: 100%;
            background-color: #e5e7eb;
            border-radius: 9999px;
            margin: 20px 0;
            height: 10px;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--primary-color), #8b5cf6);
            border-radius: 9999px;
            width: 0%;
            transition: width 0.3s ease;
        }
        
        .status {
            margin: 15px 0;
            font-size: 0.95rem;
            color: #6b7280;
            background-color: #f3f4f6;
            padding: 10px 15px;
            border-radius: var(--border-radius);
            border-left: 4px solid var(--primary-color);
        }
        
        .result-container {
            margin-top: 30px;
            background-color: var(--secondary-color);
            padding: 20px;
            border-radius: var(--border-radius);
            border: 1px solid var(--border-color);
        }
        
        img {
            max-width: 100%;
            border-radius: var(--border-radius);
            display: none;
            box-shadow: var(--shadow);
        }
        
        #no-image-text {
            text-align: center;
            padding: 30px;
            color: #6b7280;
            font-style: italic;
        }
        
        #image-info-content {
            margin-top: 15px;
            font-size: 0.9rem;
        }
        
        /* Êñ∞Â¢ûÊ†∑Âºè */
        header {
            margin-bottom: 2rem;
            text-align: center;
        }
        
        .form-group {
            margin-bottom: 1.5rem;
        }
        
        .form-controls {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 1.5rem;
        }
        
        .control-group {
            flex: 1;
            min-width: 120px;
        }
        
        .button-group {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 1rem;
        }
        
        .label-icon, .btn-icon {
            margin-right: 6px;
            display: inline-block;
        }
        
        @media (max-width: 600px) {
            .form-controls {
                flex-direction: column;
                gap: 10px;
            }
            
            .button-group {
                flex-direction: column;
            }
            
            button {
                width: 100%;
                margin: 5px 0;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>ComfyUI ÂõæÂÉèÁîüÊàêÂ∑•ÂÖ∑</h1>
    </header>
    
    <div class="example-container">
        <h2>ÂàõÂª∫ÊÇ®ÁöÑAIËâ∫ÊúØ</h2>
        
        <div class="form-group">
            <label for="workflow">
                <span class="label-icon">üìã</span>
                ÈÄâÊã©ÊµÅÁ®ã:
            </label>
            <select id="workflow" style="width: 100%; padding: 10px 12px; border: 1px solid var(--border-color); border-radius: var(--border-radius); font-size: 1rem; transition: border-color 0.2s, box-shadow 0.2s; margin-top: 5px; margin-bottom: 15px;">
                <option value="">Âä†ËΩΩ‰∏≠...</option>
            </select>
        </div>
        
        <div class="form-group">
            <label for="prompt">
                <span class="label-icon">‚ú®</span>
                ÊèêÁ§∫ËØç:
            </label>
            <input type="text" id="prompt" value="‰∏ÄÂè™ÂèØÁà±ÁöÑÁå´Âí™ÔºåÈ´òÊ∏ÖÁÖßÁâá" placeholder="ÊèèËø∞ÊÇ®ÊÉ≥Ë¶ÅÁîüÊàêÁöÑÂõæÂÉè...">
        </div>
        
        <div class="form-group">
            <label for="negative-prompt">
                <span class="label-icon">‚õî</span>
                Ë¥üÈù¢ÊèêÁ§∫ËØç:
            </label>
            <input type="text" id="negative-prompt" value="Ê®°Á≥ä, ‰ΩéË¥®Èáè" placeholder="ÊèèËø∞ÊÇ®ÊÉ≥Ë¶ÅÈÅøÂÖçÁöÑÂÖÉÁ¥†...">
        </div>
        
        <div class="form-controls">
            <div class="control-group">
                <label for="width">
                    <span class="label-icon">‚ÜîÔ∏è</span>
                    ÂÆΩÂ∫¶:
                </label>
                <input type="number" id="width" value="640" min="64" max="2048">
            </div>
            <div class="control-group">
                <label for="height">
                    <span class="label-icon">‚ÜïÔ∏è</span>
                    È´òÂ∫¶:
                </label>
                <input type="number" id="height" value="480" min="64" max="2048">
            </div>
            <div class="control-group">
                <label for="batch_size">
                    <span class="label-icon">üî¢</span>
                    Êï∞Èáè:
                </label>
                <input type="number" id="batch_size" value="2" min="1" max="4">
            </div>
        </div>
        
        <div class="button-group">
            <button id="generate-btn">
                <span class="btn-icon">üé®</span>
                ÁîüÊàêÂõæÂÉè
            </button>
            <button id="cancel-btn" disabled>
                <span class="btn-icon">üõë</span>
                ÂèñÊ∂àÁîüÊàê
            </button>
            <button id="test-btn">
                <span class="btn-icon">üîç</span>
                Ê£ÄÊµã
            </button>
        </div>
        
        <div class="progress-container">
            <div id="progress-bar" class="progress-bar"></div>
        </div>
        
        <div id="status-display" class="status">ÂáÜÂ§áÂ∞±Áª™</div>
        
        <div class="result-container">
            <img id="result-image" alt="ÁîüÊàêÁöÑÂõæÂÉè">
            <div id="no-image-text">Â∞öÊú™ÁîüÊàêÂõæÂÉè</div>
            <pre id="image-info-content"></pre>
        </div>
    </div>

    <!-- ÂºïÂÖ• ComfyUI API -->
    <script src="script.js"></script>
    
    <script>
        // Á≠âÂæÖÈ°µÈù¢Âä†ËΩΩÂÆåÊàê
        // Ëé∑ÂèñÊµÅÁ®ãÊï∞ÊçÆÁöÑÂáΩÊï∞
        async function fetchWorkflows() {
            try {
                const workflowSelect = document.getElementById('workflow');
                workflowSelect.innerHTML = '<option value="">Âä†ËΩΩ‰∏≠...</option>';
                
                const response = await fetch('/api/workflows');
                if (!response.ok) {
                    throw new Error(`HTTPÈîôËØØ: ${response.status}`);
                }
                
                const workflows = await response.json();
                
                // Ê∏ÖÁ©∫‰∏ãÊãâÊ°Ü
                workflowSelect.innerHTML = '';
                
                // Ê∑ªÂä†ÈªòËÆ§ÈÄâÈ°π
                const defaultOption = document.createElement('option');
                defaultOption.value = '';
                defaultOption.textContent = '-- ËØ∑ÈÄâÊã©ÊµÅÁ®ã --';
                workflowSelect.appendChild(defaultOption);
                
                // Ê∑ªÂä†ÊµÅÁ®ãÈÄâÈ°π
                workflows.forEach((workflow, index) => {
                    const option = document.createElement('option');
                    option.value = workflow.path ||"";
                    option.textContent = workflow.name || `ÊµÅÁ®ã ${option.value}`;
                    workflowSelect.appendChild(option);
                    
                    // ÈªòËÆ§ÈÄâÊã©Á¨¨‰∏Ä‰∏™ÊúâÊïàÈÄâÈ°π
                    if (index === 0) {
                        workflowSelect.value = option.value;
                    }
                });
                
                console.log(`ÊàêÂäüÂä†ËΩΩ ${workflows.length} ‰∏™ÊµÅÁ®ã`);
                
                // Â¶ÇÊûúÊ≤°ÊúâÊµÅÁ®ãÊï∞ÊçÆÔºåÊòæÁ§∫ÊèêÁ§∫
                if (workflows.length === 0) {
                    workflowSelect.innerHTML = '<option value="">Ê≤°ÊúâÂèØÁî®ÊµÅÁ®ã</option>';
                }
            } catch (error) {
                console.error('Ëé∑ÂèñÊµÅÁ®ãÊï∞ÊçÆÂ§±Ë¥•:', error);
                const workflowSelect = document.getElementById('workflow');
                workflowSelect.innerHTML = '<option value="">Âä†ËΩΩÂ§±Ë¥•ÔºåËØ∑Âà∑Êñ∞ÈáçËØï</option>';
            }
        }
        
        document.addEventListener('DOMContentLoaded', () => {
            // Âä†ËΩΩÊµÅÁ®ãÊï∞ÊçÆ
            fetchWorkflows();
            
            // ÁªëÂÆöÂà∑Êñ∞ÊåâÈíÆ‰∫ã‰ª∂
            console.log("Load ComfyUI API")
            // ÈÖçÁΩÆ ComfyUI ÁöÑÂõûË∞ÉÂáΩÊï∞
            ComfyUI.init({
                apiBasePath: '/api',
                statusCheckInterval: 1000,
                onStatusChange: (status, taskId, data) => {
                    console.log(`‰ªªÂä°Áä∂ÊÄÅÂèòÊõ¥: ${status}`);
                    document.getElementById('status-display').textContent = `Áä∂ÊÄÅ: ${status}`;
                },
                onProgress: (progress, data) => {
                    console.log(`ËøõÂ∫¶: ${progress }%`);
                    document.getElementById('progress-bar').style.width = `${progress}%`;
                },
                onComplete: (imageUrls, promptId, taskId) => {
                    console.log('ÂõæÂÉèÁîüÊàêÂÆåÊàêÔºåËøîÂõûÊï∞ÊçÆ:', imageUrls);
                    console.log('ÂõæÂÉèÁ±ªÂûã:', typeof imageUrls, Array.isArray(imageUrls) ? 'ÊòØÊï∞ÁªÑ' : 'ÈùûÊï∞ÁªÑ');
                    
                    // Ê£ÄÊü•ÂõæÂÉèURLÊòØÂê¶ÊúâÊïà
                    if (Array.isArray(imageUrls)) {
                        imageUrls.forEach((url, index) => {
                            console.log(`ÂõæÂÉè ${index + 1} URL:`, url);
                        });
                    } else if (imageUrls) {
                        console.log('ÂçïÂº†ÂõæÂÉè URL:', imageUrls);
                    } else {
                        console.error('Êú™Êî∂Âà∞ÊúâÊïàÁöÑÂõæÂÉèURL');
                    }
                    
                    // ÂàõÂª∫ÊàñÊ∏ÖÁ©∫ÂõæÂÉèÂÆπÂô®
                    let imageContainer = document.getElementById('image-container');
                    if (!imageContainer) {
                        imageContainer = document.createElement('div');
                        imageContainer.id = 'image-container';
                        imageContainer.style.display = 'flex';
                        imageContainer.style.flexWrap = 'wrap';
                        imageContainer.style.gap = '10px';
                        imageContainer.style.justifyContent = 'center';
                        imageContainer.style.marginBottom = '15px';
                        
                        // Â∞ÜÂÆπÂô®ÊèíÂÖ•Âà∞ÁªìÊûúÂÆπÂô®ÁöÑÂºÄÂ§¥
                        const resultContainer = document.querySelector('.result-container');
                        resultContainer.insertBefore(imageContainer, resultContainer.firstChild);
                        
                        // ÈöêËóèÂéüÂßãÂõæÂÉèÂÖÉÁ¥†
                        const resultImage = document.getElementById('result-image');
                        resultImage.style.display = 'none';
                    } else {
                        console.log('Ê∏ÖÁ©∫Áé∞ÊúâÂõæÂÉèÂÆπÂô®');
                        imageContainer.innerHTML = ''; // Ê∏ÖÁ©∫Áé∞ÊúâÂÜÖÂÆπ
                    }
                    
                    console.log('ÂáÜÂ§áÊòæÁ§∫ÂõæÂÉèÔºåÊï∞Èáè:', Array.isArray(imageUrls) ? imageUrls.length : 1);
                    
                    // ÈöêËóèÊèêÁ§∫ÊñáÊú¨
                    document.getElementById('no-image-text').style.display = 'none';
                    
                    // Âæ™ÁéØÊòæÁ§∫ÊâÄÊúâÂõæÂÉè
                    if (Array.isArray(imageUrls)) {
                        imageUrls.forEach((imageUrl, index) => {
                            // ÂàõÂª∫Êñ∞ÁöÑÂõæÂÉèÂÖÉÁ¥†
                            const imgElement = document.createElement('img');
                            imgElement.src = imageUrl;
                            imgElement.alt = `ÁîüÊàêÂõæÂÉè ${index + 1}`;
                            imgElement.style.maxWidth = '100%';
                            imgElement.style.height = 'auto';
                            imgElement.style.margin = '10px';
                            imgElement.style.borderRadius = '8px';
                            imgElement.style.display = 'block'; // Á°Æ‰øùÂõæÂÉèÊòæÁ§∫
                            imgElement.style.boxShadow = '0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)';
                            imgElement.style.transition = 'transform 0.3s ease';
                            
                            // Ê∑ªÂä†Èº†Ê†áÊÇ¨ÂÅúÊïàÊûú
                            imgElement.onmouseover = () => {
                                imgElement.style.transform = 'scale(1.02)';
                            };
                            imgElement.onmouseout = () => {
                                imgElement.style.transform = 'scale(1)';
                            };
                            
                            // Ê∑ªÂä†ÂõæÂÉèÂä†ËΩΩ‰∫ã‰ª∂Â§ÑÁêÜ
                            imgElement.onload = () => {
                                console.log(`ÂõæÂÉè ${index + 1} Âä†ËΩΩÊàêÂäü`);
                            };
                            
                            // Ê∑ªÂä†ÂõæÂÉèÂä†ËΩΩÈîôËØØÂ§ÑÁêÜ
                            imgElement.onerror = () => {
                                console.error(`ÂõæÂÉè ${index + 1} Âä†ËΩΩÂ§±Ë¥•: ${imageUrl}`);
                                imgElement.style.display = 'none';
                                const errorMsg = document.createElement('div');
                                errorMsg.textContent = `ÂõæÂÉè ${index + 1} Âä†ËΩΩÂ§±Ë¥•`;
                                errorMsg.style.color = '#ef4444';
                                errorMsg.style.padding = '15px';
                                errorMsg.style.backgroundColor = '#fef2f2';
                                errorMsg.style.borderRadius = '8px';
                                errorMsg.style.border = '1px solid #fee2e2';
                                errorMsg.style.margin = '10px';
                                errorMsg.style.fontWeight = '500';
                                imageContainer.appendChild(errorMsg);
                            };
                            
                            // Â∞ÜÂõæÂÉèÊ∑ªÂä†Âà∞ÂÆπÂô®‰∏≠
                            imageContainer.appendChild(imgElement);
                        });
                    } else if (imageUrls) {
                        // Â¶ÇÊûú‰∏çÊòØÊï∞ÁªÑ‰ΩÜÊúâÂÄºÔºåÊòæÁ§∫ÂçïÂº†ÂõæÁâá
                        const imgElement = document.createElement('img');
                        imgElement.src = imageUrls;
                        imgElement.alt = 'ÁîüÊàêÂõæÂÉè';
                        imgElement.style.maxWidth = '100%';
                        imgElement.style.height = 'auto';
                        imgElement.style.margin = '10px';
                        imgElement.style.borderRadius = '8px';
                        imgElement.style.display = 'block'; // Á°Æ‰øùÂõæÂÉèÊòæÁ§∫
                        imgElement.style.boxShadow = '0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)';
                        imgElement.style.transition = 'transform 0.3s ease';
                        
                        // Ê∑ªÂä†Èº†Ê†áÊÇ¨ÂÅúÊïàÊûú
                        imgElement.onmouseover = () => {
                            imgElement.style.transform = 'scale(1.02)';
                        };
                        imgElement.onmouseout = () => {
                            imgElement.style.transform = 'scale(1)';
                        };
                        
                        // Ê∑ªÂä†ÂõæÂÉèÂä†ËΩΩ‰∫ã‰ª∂Â§ÑÁêÜ
                        imgElement.onload = () => {
                            console.log('ÂçïÂº†ÂõæÂÉèÂä†ËΩΩÊàêÂäü');
                        };
                        
                        // Ê∑ªÂä†ÂõæÂÉèÂä†ËΩΩÈîôËØØÂ§ÑÁêÜ
                        imgElement.onerror = () => {
                            console.error(`ÂõæÂÉèÂä†ËΩΩÂ§±Ë¥•: ${imageUrls}`);
                            imgElement.style.display = 'none';
                            const errorMsg = document.createElement('div');
                            errorMsg.textContent = 'ÂõæÂÉèÂä†ËΩΩÂ§±Ë¥•';
                            errorMsg.style.color = '#ef4444';
                            errorMsg.style.padding = '15px';
                            errorMsg.style.backgroundColor = '#fef2f2';
                            errorMsg.style.borderRadius = '8px';
                            errorMsg.style.border = '1px solid #fee2e2';
                            errorMsg.style.margin = '10px';
                            errorMsg.style.fontWeight = '500';
                            imageContainer.appendChild(errorMsg);
                        };
                        
                        imageContainer.appendChild(imgElement);
                    }
                    
                    // ÊòæÁ§∫ÂõæÂÉè‰ø°ÊÅØ
                    const timestamp = new Date().toLocaleString();
                    document.getElementById('image-info-content').textContent = 
                        `ÁîüÊàêÊó∂Èó¥: ${timestamp}\n‰ªªÂä°ID: ${taskId||""}\nÂõæÂÉèÊï∞Èáè: ${Array.isArray(imageUrls) ? imageUrls.length : 1}`;
                    
                    document.getElementById('generate-btn').disabled = false;
                    document.getElementById('cancel-btn').disabled = true;
                },
                onError: (error) => {
                    console.error(`ÂèëÁîüÈîôËØØ: ${error.message}`);
                    document.getElementById('status-display').textContent = `ÈîôËØØ: ${error.message}`;
                    document.getElementById('generate-btn').disabled = false;
                    document.getElementById('cancel-btn').disabled = true;
                }
            });
            
            // ÁªëÂÆöÂèñÊ∂àÊåâÈíÆ‰∫ã‰ª∂
            document.getElementById('test-btn').addEventListener('click', async () => {
                ComfyUI.getTaskResult('5cbc125f-24c4-45a8-9df8-82e56340ac8c');
            });
            document.getElementById('cancel-btn').addEventListener('click', async () => {
                
                const cancelled = await ComfyUI.cancelTask();
                if (cancelled) {
                    document.getElementById('status-display').textContent = '‰ªªÂä°Â∑≤ÂèñÊ∂à';
                    document.getElementById('generate-btn').disabled = false;
                    document.getElementById('cancel-btn').disabled = true;
                }
            });
            
            // ÁªëÂÆöÁîüÊàêÊåâÈíÆ‰∫ã‰ª∂
            document.getElementById('generate-btn').addEventListener('click', async () => {
                document.getElementById('generate-btn').disabled = true;
                document.getElementById('cancel-btn').disabled = false;
                document.getElementById('result-image').style.display = 'none';
                document.getElementById('no-image-text').style.display = 'block';
                document.getElementById('no-image-text').textContent = 'Ê≠£Âú®ÁîüÊàêÂõæÂÉè...';
                document.getElementById('progress-bar').style.width = '0%';
                document.getElementById('image-info-content').textContent = '';
                
                // Ê∏ÖÁ©∫Áé∞ÊúâÂõæÂÉèÂÆπÂô®
                const imageContainer = document.getElementById('image-container');
                if (imageContainer) {
                    imageContainer.innerHTML = '';
                    console.log('Â∑≤Ê∏ÖÁ©∫ÂõæÂÉèÂÆπÂô®ÔºåÂáÜÂ§áÊñ∞ÁöÑÁîüÊàê‰ªªÂä°');
                }
                
                try {
                    // Ëé∑ÂèñË°®ÂçïÊï∞ÊçÆ
                    const workflowId = document.getElementById('workflow').value||"";
                    if (!workflowId) {
                        throw new Error('ËØ∑ÈÄâÊã©‰∏Ä‰∏™ÊµÅÁ®ã');
                    }
                    
                    const formData = {
                        workflow_id: workflowId,
                        prompt: document.getElementById('prompt').value.trim(),
                        negative_prompt: document.getElementById('negative-prompt').value.trim(),
                        width: parseInt(document.getElementById('width').value),
                        height: parseInt(document.getElementById('height').value),
                        batch_size: parseInt(document.getElementById('batch_size').value),
                    };
                    
                    // Ë∞ÉÁî® API ÁîüÊàêÂõæÂÉè
                    // const taskData = await ComfyUI.generateImage(formData);
                    document.getElementById('status-display').textContent = `‰ªªÂä°Â∑≤Êèê‰∫§ÔºåID: ${taskData.task_id}`;
                } catch (error) {
                    document.getElementById('status-display').textContent = `ÈîôËØØ: ${error.message}`;
                    document.getElementById('generate-btn').disabled = false;
                    document.getElementById('cancel-btn').disabled = true;
                }
            });
        });
    </script>
    
    <footer style="text-align: center; margin-top: 40px; padding: 20px; border-top: 1px solid var(--border-color); color: #6b7280; font-size: 0.9rem;">
        <p>ComfyUI API ÈõÜÊàêÁ§∫‰æã | 
            <a href="/docs" target="_blank" style="color: var(--primary-color); text-decoration: none; font-weight: 500;"> ÊñáÊ°£</a> | 
            <a href="https://github.com/rachelos/comfyapi" target="_blank" style="color: var(--primary-color); text-decoration: none; font-weight: 500;">Github</a></p>
    </footer>
</body>
</html>